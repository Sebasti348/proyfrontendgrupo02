<div class="container-fluid">
    <section class="funciones-container">
        <h2 class="text-center pt-2 fw-bold">Funciones Disponibles</h2>
        <div *ngIf="funciones && funciones.length > 0; else noPeliculas" class="row g-4">
            <div *ngFor="let funcion of funciones" class="col-sm-12 col-md-6 col-lg-4 col-xl-3">
                <div class="card custom-horizontal-card shadow-sm h-100">
                    <div class="row g-0 h-100">
                        <div class="col-md-4">
                            <img [src]="funcion.pelicula.primaryImage"
                                [alt]="'Póster de ' + funcion.pelicula.originalTitle"
                                class="img-fluid rounded-start card-img-custom">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body d-flex flex-column h-100">
                                <h2 class="card-title">{{ funcion.pelicula.originalTitle }}</h2>
                                <div class="mt-auto">
                                    <div class="fecha mb-2">
                                        <h4>Fecha: {{ funcion.fecha | date:'dd/MM/yyyy' }}</h4>
                                    </div>
                                    <div class="horarios mb-2">
                                        <h4>Horario: {{ funcion.hora }}</h4>
                                    </div>
                                    <div class="salas mb-3">
                                        <h4>Sala: {{ funcion.sala }}</h4>
                                    </div>
                                    <div class="precio mb-3">
                                        <h4>Precio: ${{ funcion.precio }}</h4>
                                    </div>
                                    <button class="btn w-100" (click)="reservarPelicula(funcion._id)">
                                        Reservar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <ng-template #noPeliculas>
            <p class="text-center mt-4 no-peliculas-msg">No hay películas disponibles</p>
        </ng-template>
    </section>
</div>